{% extends 'base/base.html' %}
{% block miembros %}<strong>Miembros</strong>{% endblock %}
{% block page_content%}

  <div class="wrapper">
   	<nav id="sidebar">
   		<div class="sidebar-header">
   			<h3>Miembro</h3>
   		</div>
   		
   		
   		<ul class="list-unstyled components">
   		
				{% if user.is_superuser %}
        <li>
					<a href="{{BASE_DIR}}/admin/miembro/miembro/add/">Crear</a>
				</li>
   		  {% endif %}
   			{% if user.is_superuser %}
				<li>
					<a href="{{BASE_DIR}}/admin/miembro/miembro/">Listar</a>
				</li>
			{%else %}

				<li>
					<a href="#">Listar</a>
				</li>
			{%endif%}
				<li>
					<a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Filtar</a>
					<ul class="collapse list-unstyled" id="pageSubmenu">
						<li>
							<a href="#">Nombre</a>
						</li>
						<li>
							<a href="#">Carrera</a>
						</li>
						<li>
							<a href="#">Capitulo</a>
						</li>
					</ul> 
				</li>
			   
				<li>
   				<a href="#">Puntos</a>
				</li>
   			</ul>
   		</nav>
   	
   		<div class="content">
   		<nav class="navbar navbar-expand-lg navbar-light bg-light">
	</nav>

	<div class='container'>
		<div class='col-12'>
			<div class="card shadow mb-4">
    <!-- Card Header - Dropdown -->
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
        <h6 class="m-0 font-weight-bold text-primary">Listado de miembros</h6>
        <div class="dropdown no-arrow">
            <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
            </a>
            
        </div>
    </div>
    <!-- Card Body -->
    <div class="card-body">
        {% if not obj %}
        <div class="alert alert-info">Usted no cuenta con los permisos necesarios para ver los miembros, necesita iniciar sesión.</div>
        {% else %}
        <table class="table table-striped table-hover">
            <thead>
            <!--<th>RFID</th>-->
            <th>username</th>
            <th>Doc.</th>
            <th>N. doc.</th>
            <th>Dependencia</th>
            <th>Tipo</th>
            <th>Nombres</th>
            <th>Apellidos</th>
            <th>E-mail</th>
            <th>F. Nac</th>
            <th>Saldo</th>
            <!--<<th>F. Creado</th>
            <th>F. Modif.</th>
            <th>Foto</th>-->
            <th class="all">Acciones</th>
            </thead>
            <tbody>
            {% for item in obj %}
            <tr>
                <!--<<td>{{ item.id_beneficiario }}</td>-->
                <td>{{ item.username }}</td>
                <td>{{ item.documento|title }}</td>
                <td>{{ item.numero_documento }}</td>
                <td>{{ item.dependencia|title }}</td>
                <td>{{ item.tipo_beneficiario|title }}</td>
                <td>{{ item.nombres|title }}</td>
                <td>{{ item.apellidos|title }}</td>
                
            </tr>
            {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </div>
</div>
{% endblock %}


{% block js_page %}
<script>
  // Call the dataTables jQuery plugin
  $(document).ready(function() {
    $('.table').DataTable({
      "language": {
        "sProcessing": "Procesando...",
        "sLengthMenu": "Registros por página: _MENU_",
        "sZeroRecords": "No se encontraron resultados",
        "sEmptyTable": "Ningún dato disponible en esta tabla",
        "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
        "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
        "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
        "sInfoPostFix": "",
        "sSearch": "Buscar:",
        "sUrl": "",
        "sInfoThousands": ",",
        "sLoadingRecords": "Cargando...",
        "oPaginate": {
            "sFirst": "<span class='fa fa-angle-double-left'></span>",
            "sLast": "<span class='fa fa-angle-double-right'></span>",
            "sNext": "<span class='fa fa-angle-right'></span>",
            "sPrevious": "<span class='fa fa-angle-left'></span>"
        },
        "oAria": {
            "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
            "sSortDescending": ": Activar para ordenar la columna de manera descendente"
        }
      }
    });
  });


</script>
		</div>
	</div>
   	
   	
   	
   </div>
    

    <script>
	    $(document).ready(function(){
			$('#sidebarCollapse').on('click',function(){
				$('#sidebar').toggleClass('active');
			});
		});  
	</script>


{% endblock %}